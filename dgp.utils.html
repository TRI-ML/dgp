<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dgp.utils package &#8212; DGP 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/tri_colors.css" />
    <link rel="stylesheet" type="text/css" href="_static/tri_colors.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="dgp.utils.cloud package" href="dgp.utils.cloud.html" />
    <link rel="prev" title="dgp.scripts package" href="dgp.scripts.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dgp.utils.cloud.html" title="dgp.utils.cloud package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dgp.scripts.html" title="dgp.scripts package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DGP 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="dgp.html" accesskey="U">dgp package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dgp.utils package</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!DOCTYPE html>
<hr />
<p>
<h2 class="logo">
    <a href="https://www.tri.global/">
        <img src="_static/tri_logo.png" alt="TRI">
    </a>
</h2>
</p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><!DOCTYPE html>
<h3><a href="#">Quick Links</a></h3>
<ul>
    <li><a class="reference internal" href="cli.html">Command Line Interface Info</a></li>
    <li><a class="reference internal" href="getting_started.html">Getting Started</a></li>
    <li><a class="reference internal" href="contributing_guidelines.html">Contributing Guidelines</a></li>
    <li><a class="reference internal" href="dgp_schema.html">DGP Schema</a></li>
</ul>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dgp.utils package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#module-dgp.utils.accumulate">dgp.utils.accumulate module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.annotation">dgp.utils.annotation module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.cache">dgp.utils.cache module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.camera">dgp.utils.camera module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.cli_utils">dgp.utils.cli_utils module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.colors">dgp.utils.colors module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.dataset_conversion">dgp.utils.dataset_conversion module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.datasets">dgp.utils.datasets module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.pose">dgp.utils.pose module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.protobuf">dgp.utils.protobuf module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.statistics">dgp.utils.statistics module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.testing">dgp.utils.testing module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.visualization_engine">dgp.utils.visualization_engine module</a></li>
<li><a class="reference internal" href="#module-dgp.utils.visualization_utils">dgp.utils.visualization_utils module</a></li>
<li><a class="reference internal" href="#module-dgp.utils">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dgp.scripts.html"
                        title="previous chapter">dgp.scripts package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dgp.utils.cloud.html"
                        title="next chapter">dgp.utils.cloud package</a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dgp-utils-package">
<h1>dgp.utils package<a class="headerlink" href="#dgp-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dgp.utils.cloud.html">dgp.utils.cloud package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.cloud.html#module-dgp.utils.cloud.s3">dgp.utils.cloud.s3 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.cloud.html#module-dgp.utils.cloud">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dgp.utils.structures.html">dgp.utils.structures package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.structures.html#module-dgp.utils.structures.bounding_box_2d">dgp.utils.structures.bounding_box_2d module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.structures.html#module-dgp.utils.structures.bounding_box_3d">dgp.utils.structures.bounding_box_3d module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.structures.html#module-dgp.utils.structures.instance_mask">dgp.utils.structures.instance_mask module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.structures.html#module-dgp.utils.structures.key_point_2d">dgp.utils.structures.key_point_2d module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.structures.html#module-dgp.utils.structures">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dgp.utils.torch_extension.html">dgp.utils.torch_extension package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.torch_extension.html#module-dgp.utils.torch_extension.camera">dgp.utils.torch_extension.camera module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.torch_extension.html#module-dgp.utils.torch_extension.pose">dgp.utils.torch_extension.pose module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.torch_extension.html#module-dgp.utils.torch_extension.stn">dgp.utils.torch_extension.stn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgp.utils.torch_extension.html#module-dgp.utils.torch_extension">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-dgp.utils.accumulate">
<span id="dgp-utils-accumulate-module"></span><h2>dgp.utils.accumulate module<a class="headerlink" href="#module-dgp.utils.accumulate" title="Permalink to this headline">¶</a></h2>
<p>Useful utilities for accumulating sensory information over time</p>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.accumulate.accumulate_points">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.accumulate.</span></span><span class="sig-name descname"><span class="pre">accumulate_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_datums</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_boxes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.accumulate.accumulate_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulates lidar or radar points by transforming all datums in point_datums to the frame used in target_datum.</p>
<dl class="simple">
<dt>point_datums: list[dict]</dt><dd><p>List of datum dictionaries to accumulate</p>
</dd>
<dt>target_datum: dict</dt><dd><p>A single datum to use as the reference frame and reference time.</p>
</dd>
<dt>transform_boxes: bool, default: False</dt><dd><p>Flag to denote if cuboid annotations and instance ids should be used to warp points to the target frame.
Only valid for Lidar.</p>
</dd>
</dl>
<dl class="simple">
<dt>p_target: dict</dt><dd><p>A new datum with accumulated points and an additional field ‘accumulation_offset_t’
that indicates the delta in microseconds between the target_datum and the given point.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.accumulate.points_in_cuboid">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.accumulate.</span></span><span class="sig-name descname"><span class="pre">points_in_cuboid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuboid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.accumulate.points_in_cuboid" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a point is contained by a cuboid. Assumes points are in the same frame as the cuboid, 
i.e, cuboid.pose translates points in the cuboid local frame to the query_point frame.</p>
<dl class="simple">
<dt>query_points: np.ndarray</dt><dd><p>Numpy array shape (N,3) of points.</p>
</dd>
<dt>cuboid: dgp.utils.structures.bounding_box_3d.BoundingBox3D</dt><dd><p>Cuboid in same reference frame as query points</p>
</dd>
</dl>
<dl class="simple">
<dt>in_view: np.ndarray</dt><dd><p>Numpy boolean array shape (N,) where a True entry denotes a point insided the cuboid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.annotation">
<span id="dgp-utils-annotation-module"></span><h2>dgp.utils.annotation module<a class="headerlink" href="#module-dgp.utils.annotation" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.annotation.get_depth_from_point_cloud">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.annotation.</span></span><span class="sig-name descname"><span class="pre">get_depth_from_point_cloud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx_in_scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cam_datum_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pc_datum_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.annotation.get_depth_from_point_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the depth map in the camera view using the provided point cloud
datum within the sample.</p>
<dl class="simple">
<dt>dataset: dgp.dataset.BaseDataset</dt><dd><p>Inherited base dataset to augment with depth data.</p>
</dd>
<dt>scene_idx: int</dt><dd><p>Index of the scene.</p>
</dd>
<dt>sample_idx_in_scene: int</dt><dd><p>Index of the sample within the scene at scene_idx.</p>
</dd>
<dt>cam_datum_name: str</dt><dd><p>Name of camera datum within the sample.</p>
</dd>
<dt>pc_datum_name: str</dt><dd><p>Name of the point cloud datum within the sample.</p>
</dd>
</dl>
<dl class="simple">
<dt>depth: np.ndarray</dt><dd><p>Depth map from the camera’s viewpoint.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.annotation.is_empty_annotation">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.annotation.</span></span><span class="sig-name descname"><span class="pre">is_empty_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.annotation.is_empty_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if JSON style annotation files are empty</p>
<dl class="simple">
<dt>annotations: str</dt><dd><p>Path to JSON file containing annotations for 2D/3D bounding boxes</p>
</dd>
</dl>
<dl class="simple">
<dt>bool:</dt><dd><p>True if empty annotation, otherwise False</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.cache">
<span id="dgp-utils-cache-module"></span><h2>dgp.utils.cache module<a class="headerlink" href="#module-dgp.utils.cache" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.cache.clear_cache">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.cache.</span></span><span class="sig-name descname"><span class="pre">clear_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/.dgp/cache'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.cache.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear DGP cache to avoid growing disk-usage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.cache.diskcache">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.cache.</span></span><span class="sig-name descname"><span class="pre">diskcache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'npz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.cache.diskcache" title="Permalink to this definition">¶</a></dt>
<dd><p>Disk-caching method/function decorator that caches results into
dgp cache for arbitrary pickle-able / numpy objects.</p>
<dl class="simple">
<dt>func: function</dt><dd><p>Function to be called and wrapped with disk-caching support.</p>
</dd>
<dt>protocol: str, (default: npz)</dt><dd><p>Use numpy for serialization protocol, otherwise use pkl for pickle.</p>
</dd>
<dt>cache_dir: str, (default: None)</dt><dd><p>Directory to cache instead of the default DGP cache.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.camera">
<span id="dgp-utils-camera-module"></span><h2>dgp.utils.camera module<a class="headerlink" href="#module-dgp.utils.camera" title="Permalink to this headline">¶</a></h2>
<p>General-purpose class for cameras.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.camera.</span></span><span class="sig-name descname"><span class="pre">Camera</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Camera class with well-defined intrinsics and extrinsics.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.Kinv">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">Kinv</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.Kinv" title="Permalink to this definition">¶</a></dt>
<dd><p>Analytic inverse camera intrinsic (K^-1)</p>
<dl class="simple">
<dt>Kinv: np.ndarray (33)</dt><dd><p>Inverse camera matrix K^-1.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.P">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">P</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.P" title="Permalink to this definition">¶</a></dt>
<dd><p>Projection matrix</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.cx">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">cx</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.cx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.cy">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">cy</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.cy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.from_params">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distortion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.from_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Create camera batch from calibration parameters.</p>
<dl class="simple">
<dt>fx: float</dt><dd><p>Camera focal length along x-axis.</p>
</dd>
<dt>fy: float</dt><dd><p>Camera focal length along y-axis.</p>
</dd>
<dt>cx: float</dt><dd><p>Camera x-axis principal point.</p>
</dd>
<dt>cy: float</dt><dd><p>Camera y-axis principal point.</p>
</dd>
<dt>p_cw: Pose</dt><dd><p>Pose from world to camera frame.</p>
</dd>
<dt>distortion_params: dict[str, float], default: None</dt><dd><p>Optional dictionary of distortion parameters k1,k2,.. etc.</p>
</dd>
</dl>
<dl class="simple">
<dt>Camera</dt><dd><p>Camera object with relevant intrinsics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.fx">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fx</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.fx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.fy">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fy</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.fy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.in_frustum">
<span class="sig-name descname"><span class="pre">in_frustum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.in_frustum" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of 3D points, return a boolean index of points in the camera frustum</p>
<dl class="simple">
<dt>X: np.ndarray (N x 3)</dt><dd><p>3D spatial coordinates for each pixel IN THE CAMERA FRAME</p>
</dd>
<dt>height: int</dt><dd><p>Height of image</p>
</dd>
<dt>width: int</dt><dd><p>Width of image</p>
</dd>
</dl>
<dl class="simple">
<dt>inside_frustum: np.ndarray</dt><dd><p>Bool array for X which are inside frustum</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.project">
<span class="sig-name descname"><span class="pre">project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Xw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.project" title="Permalink to this definition">¶</a></dt>
<dd><p>Project 3D points from specified reference frame onto image plane</p>
<dl class="simple">
<dt>Xw: np.ndarray (N x 3)</dt><dd><p>3D spatial coordinates for each pixel in the world reference frame.</p>
</dd>
</dl>
<dl>
<dt>x: np.ndarray (N x 2)</dt><dd><blockquote>
<div><p>2D image coordinates for each pixel in the specified</p>
</div></blockquote>
<p>reference frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.rodrigues">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">rodrigues</span></span><a class="headerlink" href="#dgp.utils.camera.Camera.rodrigues" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Rodrigues rotation.</p>
<dl class="simple">
<dt>rvec: np.ndarray (3,)</dt><dd><p>Rodrigues rotation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.scale_intrinsics">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">scale_intrinsics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_scale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.scale_intrinsics" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale intrinsic matrix (B33, or 33) given x and y-axes scales.
Note: This function works for both torch and numpy.</p>
<dl class="simple">
<dt>K: np.ndarray (3x3)</dt><dd><p>Camera calibration matrix.</p>
</dd>
<dt>x_scale: float</dt><dd><p>x-axis scale factor.</p>
</dd>
<dt>y_scale: float</dt><dd><p>y-axis scale factor.</p>
</dd>
</dl>
<dl class="simple">
<dt>np.array of shape (3x3)</dt><dd><p>Scaled camera intrinsic matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Camera.unproject">
<span class="sig-name descname"><span class="pre">unproject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points_in_2d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Camera.unproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Project points from 2D into 3D given known camera intrinsics</p>
<dl class="simple">
<dt>points_in_2d: np.ndarray</dt><dd><p>Array of shape (N, 2)</p>
</dd>
</dl>
<dl class="simple">
<dt>points_in_3d: np.ndarray</dt><dd><p>Array of shape (N, 3) of points projected into 3D</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.camera.Distortion">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.camera.</span></span><span class="sig-name descname"><span class="pre">Distortion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0],</span> <span class="pre">dtype=float32)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Distortion via distortion parameters or full distortion map</p>
<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.camera.Distortion.coefficients">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">coefficients</span></span><a class="headerlink" href="#dgp.utils.camera.Distortion.coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.camera.Distortion.distorion_map">
<span class="sig-name descname"><span class="pre">distorion_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.Distortion.distorion_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.camera.camera_matrix_from_pbobject">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.camera.</span></span><span class="sig-name descname"><span class="pre">camera_matrix_from_pbobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intrinsics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.camera_matrix_from_pbobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert CameraIntrinsics pbobject to 3x3 camera matrix</p>
<dl class="simple">
<dt>intrinsics: CameraIntrinsics_pb2</dt><dd><p>Protobuf containing cx, cy, fx, fy, skew</p>
</dd>
</dl>
<dl class="simple">
<dt>K: np.ndarray</dt><dd><p>Camera matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.camera.generate_depth_map">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.camera.</span></span><span class="sig-name descname"><span class="pre">generate_depth_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.generate_depth_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Render pointcloud on image.</p>
<dl class="simple">
<dt>camera: Camera</dt><dd><p>Camera object with appropriately set extrinsics wrt world.</p>
</dd>
<dt>Xw: np.ndarray (N x 3)</dt><dd><p>3D point cloud (x, y, z) in the world coordinate.</p>
</dd>
<dt>shape: np.ndarray (H, W)</dt><dd><p>Output depth image shape.</p>
</dd>
</dl>
<dl class="simple">
<dt>depth: np.array</dt><dd><p>Rendered depth image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.camera.pbobject_from_camera_matrix">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.camera.</span></span><span class="sig-name descname"><span class="pre">pbobject_from_camera_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distortion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.camera.pbobject_from_camera_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert camera intrinsic matrix into pb object.</p>
<dl class="simple">
<dt>K: np.ndarray</dt><dd><p>Camera Intrinsic Matrix</p>
</dd>
<dt>distortion: dict[str, float]</dt><dd><p>Dictionary of distortion params i.e, k1,k2,p1,p2,k3,k4,xi,alpha etc</p>
</dd>
</dl>
<dl class="simple">
<dt>intrinsics: geometry_pb2.CameraIntrinsics</dt><dd><p>Camera Intrinsic object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.cli_utils">
<span id="dgp-utils-cli-utils-module"></span><h2>dgp.utils.cli_utils module<a class="headerlink" href="#module-dgp.utils.cli_utils" title="Permalink to this headline">¶</a></h2>
<p>Various utility functions for Click options</p>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.cli_utils.add_options">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.cli_utils.</span></span><span class="sig-name descname"><span class="pre">add_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.cli_utils.add_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator function to add a list of Click options to a Click subcommand.</p>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.colors">
<span id="dgp-utils-colors-module"></span><h2>dgp.utils.colors module<a class="headerlink" href="#module-dgp.utils.colors" title="Permalink to this headline">¶</a></h2>
<p>This file contains definitions of predefined RGB colors, and color-related utility functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.colors.adjust_lightness">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.colors.</span></span><span class="sig-name descname"><span class="pre">adjust_lightness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.colors.adjust_lightness" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust lightness of an RGB color.</p>
<dl class="simple">
<dt>color: Tuple[int]</dt><dd><p>RGB color</p>
</dd>
<dt>factor: float, default: 1.0</dt><dd><p>Factor of lightness adjustment.</p>
</dd>
</dl>
<dl class="simple">
<dt>Tuple[int]</dt><dd><p>Adjusted RGB color.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.colors.color_borders">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.colors.</span></span><span class="sig-name descname"><span class="pre">color_borders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.colors.color_borders" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a frame (i.e. the 4 sides) of image.</p>
<dl class="simple">
<dt>img: np.ndarray</dt><dd><p>Input image with shape of (H, W, 3) and unit8 type.</p>
</dd>
<dt>color: Tuple(int)</dt><dd><p>Color to draw the frame.</p>
</dd>
<dt>thickness: int, default: 10</dt><dd><p>Thickness of the frame.</p>
</dd>
</dl>
<dl class="simple">
<dt>img_w_frame: np.ndarray</dt><dd><p>Image with colored frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.colors.get_unique_colors">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.colors.</span></span><span class="sig-name descname"><span class="pre">get_unique_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_bgr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tab20'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.colors.get_unique_colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Use matplotlib color maps (‘tab10’ or ‘tab20’) to get given number of unique colors.</p>
<p>CAVEAT: matplotlib only supports default qualitative color palletes of fixed number, up to 20.</p>
<dl class="simple">
<dt>num_colors: int</dt><dd><p>Number of colors. Must be less than 20.</p>
</dd>
<dt>in_bgr: bool, default: False</dt><dd><p>Whether or not to return the color in BGR order.</p>
</dd>
<dt>cmap: str, default=’tab20’</dt><dd><p>matplotlib colormap name (<a class="reference external" href="https://matplotlib.org/tutorials/colors/colormaps.html">https://matplotlib.org/tutorials/colors/colormaps.html</a>)
Must be a qualitative color map.</p>
</dd>
</dl>
<dl class="simple">
<dt>List[Tuple[int]]</dt><dd><p>List of colors in 3-tuple.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.dataset_conversion">
<span id="dgp-utils-dataset-conversion-module"></span><h2>dgp.utils.dataset_conversion module<a class="headerlink" href="#module-dgp.utils.dataset_conversion" title="Permalink to this headline">¶</a></h2>
<p>Useful utilities for pre-processing datasets</p>
<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">DatasetGen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_output_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.COLORMAP">
<span class="sig-name descname"><span class="pre">COLORMAP</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.COLORMAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.DATASET_NAME">
<span class="sig-name descname"><span class="pre">DATASET_NAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">''</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.DATASET_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"> <span class="pre">=</span> <span class="pre">''</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.EMAIL">
<span class="sig-name descname"><span class="pre">EMAIL</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'ml&#64;tri.global'</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.ID_TO_NAME">
<span class="sig-name descname"><span class="pre">ID_TO_NAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.ID_TO_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.IS_THING">
<span class="sig-name descname"><span class="pre">IS_THING</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.IS_THING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.NAME_TO_ID">
<span class="sig-name descname"><span class="pre">NAME_TO_ID</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{}</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.NAME_TO_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.PUBLIC">
<span class="sig-name descname"><span class="pre">PUBLIC</span></span><em class="property"> <span class="pre">=</span> <span class="pre">True</span></em><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.PUBLIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.convert">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse raw data into DGP format and return the dataset json.
Returns
——-
dataset_json_path: str</p>
<blockquote>
<div><p>Dataset json path</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.open_image">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">open_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.open_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an image given a filename.
Returns
——-
image: PIL.Image</p>
<blockquote>
<div><p>Image to be opened.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.populate_metadata">
<span class="sig-name descname"><span class="pre">populate_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.populate_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate boilerplate fields for dataset conversion. Statistics, size, etc…
are recomputed during conversion</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.populate_ontologies">
<span class="sig-name descname"><span class="pre">populate_ontologies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.populate_ontologies" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate ontologies’ fields for dataset conversion.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.populate_statistics">
<span class="sig-name descname"><span class="pre">populate_statistics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.populate_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute dataset (image/point_cloud) statistics.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.DatasetGen.write_dataset">
<span class="sig-name descname"><span class="pre">write_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.DatasetGen.write_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the final scene dataset JSON.
Parameters
———-
upload: bool, default: False</p>
<blockquote>
<div><p>If true, upload the dataset to the scene pool in s3.</p>
</div></blockquote>
<dl class="simple">
<dt>scene_dataset_json_path: str</dt><dd><p>Path of the scene dataset JSON file created.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.MergeSceneDatasetGen">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">MergeSceneDatasetGen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene_dataset_json_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.MergeSceneDatasetGen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to merge multiple scene dataset JSONs together.</p>
<dl class="simple">
<dt>scene_dataset_json_paths: list</dt><dd><p>List of scene dataset JSON paths.</p>
</dd>
<dt>description: str</dt><dd><p>Description of the dataset.</p>
</dd>
<dt>version: str</dt><dd><p>Version of the dataset.</p>
</dd>
<dt>local_output_path: str, default: None</dt><dd><p>Local path to save merged scene dataset JSON</p>
</dd>
<dt>bucket_path: str</dt><dd><p>Where merged dataset should be saved to on s3 (defaults to that of the first dataset)</p>
</dd>
<dt>name: str, default: None</dt><dd><p>Name of the dataset</p>
</dd>
<dt>email: str, default: None</dt><dd><p>Email of the dataset creator</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.MergeSceneDatasetGen.merge_scene_split_files">
<span class="sig-name descname"><span class="pre">merge_scene_split_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.MergeSceneDatasetGen.merge_scene_split_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate scene JSON paths together.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.MergeSceneDatasetGen.write_dataset">
<span class="sig-name descname"><span class="pre">write_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.MergeSceneDatasetGen.write_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the final scene dataset JSON.
Parameters
———-
upload: bool, default: False</p>
<blockquote>
<div><p>If true, upload the dataset to the scene pool in s3.</p>
</div></blockquote>
<dl class="simple">
<dt>scene_dataset_json_path: str</dt><dd><p>Path of the scene dataset JSON file created.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.bgr2id">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">bgr2id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.bgr2id" title="Permalink to this definition">¶</a></dt>
<dd><p>Function converting color to instance id.
This function the the conversion function used by COCO dataset.
We adapted this function from the panoptic api:
<code class="docutils literal notranslate"><span class="pre">`https://github.com/cocodataset/panopticapi`</span></code>
Parameters
———-
color: list</p>
<blockquote>
<div><p>A list of 3 channel color intensity in rgb.</p>
</div></blockquote>
<dl class="simple">
<dt>id: int</dt><dd><p>A single id encoded by the 3 channel color intensity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.compute_image_statistics">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">compute_image_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_open_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.compute_image_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of images (paths to files), return the per channel mean and stdev.
Also returns a dictionary mapping filename to image size</p>
<dl class="simple">
<dt>image_list: list</dt><dd><p>List of str of filepaths to images that can be opened by PIL</p>
</dd>
<dt>image_open_fn: function</dt><dd><p>Function to open image files in image_list, i.e. PIL.Image.open</p>
</dd>
<dt>single_process: bool</dt><dd><p>If it’s True, it gets image stats in single process for debugging. Defaults to False.</p>
</dd>
<dt>num_processes: int</dt><dd><p>A number of process in multiprocessing.Pool. If it’s None, it uses cpu count.
Defaults to None.</p>
</dd>
</dl>
<dl class="simple">
<dt>global_mean: np.ndarray</dt><dd><p>Channel wise mean of images over images in given list</p>
</dd>
<dt>global_stdevr: np.ndarray</dt><dd><p>Channel wise standard deviation of images in given list</p>
</dd>
<dt>all_image_sizes: dict</dt><dd><p>Dict mapping from filenames to image sizes (C, H, W)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.generate_uid_from_image">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">generate_uid_from_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.generate_uid_from_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a unique identifier, return the SHA1 hash hexdigest.
Used for creating unique frame IDs</p>
<dl class="simple">
<dt>image: PIL.Image</dt><dd><p>Image to be hashed</p>
</dd>
</dl>
<p>Hexdigest of image content</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.generate_uid_from_instance_segmentation_2d_annotation">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">generate_uid_from_instance_segmentation_2d_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.generate_uid_from_instance_segmentation_2d_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a unique identifier, return the SHA1 hash hexdigest.</p>
<dl class="simple">
<dt>image: np.array</dt><dd><p>instance_segmentation_2d annotation to be hashed</p>
</dd>
</dl>
<p>Hexdigest of annotation content</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.generate_uid_from_point_cloud">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">generate_uid_from_point_cloud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_cloud</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.generate_uid_from_point_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a unique identifier, return the SHA1 hash hexdigest.
Used for creating unique datum IDs</p>
<dl class="simple">
<dt>point_cloud: np.ndarray</dt><dd><p>Point cloud to be hashed</p>
</dd>
</dl>
<p>Hexdigest of point cloud</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.generate_uid_from_semantic_segmentation_2d_annotation">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">generate_uid_from_semantic_segmentation_2d_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.generate_uid_from_semantic_segmentation_2d_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a unique identifier, return the SHA1 hash hexdigest.</p>
<dl class="simple">
<dt>image: np.array</dt><dd><p>semantic_segmentation_2d annotation to be hashed</p>
</dd>
</dl>
<p>Hexdigest of annotation content</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.get_date">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">get_date</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.get_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get today’s date. In format yyyy-mm-dd</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.get_datetime_proto">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">get_datetime_proto</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.get_datetime_proto" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns current date time proto in UTC.</p>
<dl class="simple">
<dt>datetime_proto: google.protobuf.timestamp_pb2.Timestamp</dt><dd><p>Current date time proto object in UTC.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.make_dir">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">make_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exist_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.make_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directory and catch the error if it already exists.</p>
<dl class="simple">
<dt>dir_path: str</dt><dd><p>Directory to create</p>
</dd>
<dt>exist_ok: bool</dt><dd><p>Raise error if directory exists when this is set to False</p>
</dd>
</dl>
<dl class="simple">
<dt>dir_path: str</dt><dd><p>Created directory name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.parse_all_files_in_directory">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">parse_all_files_in_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.parse_all_files_in_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Walk through subdirectories and pull all filenames</p>
<dl class="simple">
<dt>directory: str</dt><dd><p>Path to directory to recurse</p>
</dd>
</dl>
<dl class="simple">
<dt>file_list: list</dt><dd><p>Full paths to the files in all subdirectories</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.dataset_conversion.rgb2id">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.dataset_conversion.</span></span><span class="sig-name descname"><span class="pre">rgb2id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.dataset_conversion.rgb2id" title="Permalink to this definition">¶</a></dt>
<dd><p>Function converting color to instance id.
This function the the conversion function used by COCO dataset.
We adapted this function from the panoptic api:
<code class="docutils literal notranslate"><span class="pre">`https://github.com/cocodataset/panopticapi`</span></code>
Parameters
———-
color: list</p>
<blockquote>
<div><p>A list of 3 channel color intensity in rgb.</p>
</div></blockquote>
<dl class="simple">
<dt>id: int</dt><dd><p>A single id encoded by the 3 channel color intensity.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.datasets">
<span id="dgp-utils-datasets-module"></span><h2>dgp.utils.datasets module<a class="headerlink" href="#module-dgp.utils.datasets" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.datasets.get_split_to_scenes">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.datasets.</span></span><span class="sig-name descname"><span class="pre">get_split_to_scenes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.datasets.get_split_to_scenes" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a dictionary of split to scenes of a DGP-compliant scene dataset.</p>
<dl class="simple">
<dt>dataset: dgp.proto.dataset_pb2.SceneDataset</dt><dd><p>SceneDataset proto object.</p>
</dd>
</dl>
<dl class="simple">
<dt>split_to_scene_json: dict</dt><dd><p>A dictionary of split to a list of scene JSONs.</p>
</dd>
<dt>split_to_scene_dir: dict</dt><dd><p>A dictionary of split to a list of scene_dirs.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.pose">
<span id="dgp-utils-pose-module"></span><h2>dgp.utils.pose module<a class="headerlink" href="#module-dgp.utils.pose" title="Permalink to this headline">¶</a></h2>
<p>General-purpose class for rigid-body transformations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.pose.</span></span><span class="sig-name descname"><span class="pre">Pose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wxyz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([1.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0],</span> <span class="pre">dtype=float32)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tvec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0],</span> <span class="pre">dtype=float32)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>SE(3) rigid transform class that allows compounding of 6-DOF poses
and provides common transformations that are commonly seen in geometric problems.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of this pose object.</p>
<dl class="simple">
<dt>result: Pose</dt><dd><p>Copied pose object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.from_matrix">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transformation_matrix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.from_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize pose from 4x4 transformation matrix</p>
<dl class="simple">
<dt>transformation_matrix: np.ndarray</dt><dd><p>4x4 containing rotation/translation</p>
</dd>
</dl>
<p>Pose</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.from_rotation_translation">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">from_rotation_translation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotation_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tvec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.from_rotation_translation" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize pose from rotation matrix and translation vector.</p>
<dl class="simple">
<dt>rotation_matrix<span class="classifier">np.ndarray</span></dt><dd><p>3x3 rotation matrix</p>
</dd>
<dt>tvec<span class="classifier">np.ndarray</span></dt><dd><p>length-3 translation vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.inverse">
<span class="sig-name descname"><span class="pre">inverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Pose that corresponds to the
inverse of this one.</p>
<dl class="simple">
<dt>result: Pose</dt><dd><p>Inverted pose</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.load">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose_proto</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize pose from 4x4 transformation matrix</p>
<dl class="simple">
<dt>pose_proto: Pose_pb2</dt><dd><p>Pose as defined in proto/geometry.proto</p>
</dd>
</dl>
<p>Pose</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.matrix">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">matrix</span></span><a class="headerlink" href="#dgp.utils.pose.Pose.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a 4x4 homogeneous matrix of the form [R t; 0 1]</p>
<dl class="simple">
<dt>result: np.ndarray</dt><dd><p>4x4 homogeneous matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.rotation">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">rotation</span></span><a class="headerlink" href="#dgp.utils.pose.Pose.rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rotation component of the pose as a Quaternion object.</p>
<dl class="simple">
<dt>self.quat: Quaternion</dt><dd><p>Rotation component of the Pose object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.rotation_matrix">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">rotation_matrix</span></span><a class="headerlink" href="#dgp.utils.pose.Pose.rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the 3x3 rotation matrix (R)</p>
<dl class="simple">
<dt>result: np.ndarray</dt><dd><p>3x3 rotation matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.to_proto">
<span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.pose.Pose.to_proto" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Pose into pb object.</p>
<dl class="simple">
<dt>pose_0S: Pose_pb2</dt><dd><p>Pose as defined in proto/geometry.proto</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dgp.utils.pose.Pose.translation">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">translation</span></span><a class="headerlink" href="#dgp.utils.pose.Pose.translation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translation component of the pose as a np.ndarray.</p>
<dl class="simple">
<dt>self.tvec: np.ndarray</dt><dd><p>Translation component of the Pose object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dgp.utils.protobuf">
<span id="dgp-utils-protobuf-module"></span><h2>dgp.utils.protobuf module<a class="headerlink" href="#module-dgp.utils.protobuf" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.generate_uid_from_pbobject">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">generate_uid_from_pbobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.generate_uid_from_pbobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a pb object, return the deterministic SHA1 hash hexdigest.
Used for creating unique IDs.</p>
<dl class="simple">
<dt>pb_object: pb2 object</dt><dd><p>pb_object to be hashed.</p>
</dd>
</dl>
<p>Hexdigest of annotation content</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.get_latest_scene">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">get_latest_scene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_scene_jsons</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.get_latest_scene" title="Permalink to this definition">¶</a></dt>
<dd><p>From a list of ‘scene.json’ and/or ‘scene_&lt;sha1&gt;.json’ paths in s3,
return a Scene object for the one with the latest timestamp.
Parameters
———-
s3_scene_jsons: List[str]</p>
<blockquote>
<div><p>List of ‘scene.json’ or ‘scene_&lt;sha1&gt;.json’ paths in s3</p>
</div></blockquote>
<dl class="simple">
<dt>latest_scene: dgp.proto.scene_pb2.Scene</dt><dd><p>Scene pb object with the latest creation timestamp.</p>
</dd>
<dt>scene_json_path: str</dt><dd><p>S3 Path to the latest scene JSON.</p>
</dd>
</dl>
<dl class="simple">
<dt>This function can be called on the output:</dt><dd><p>out, _ = s3_recursive_list(os.path.join(scene_s3_dir, ‘scene’)</p>
</dd>
</dl>
<p>which is grabbing all ‘scene*’ files from the Scene directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.open_feature_ontology_pbobject">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">open_feature_ontology_pbobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ontology_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.open_feature_ontology_pbobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Open feature ontology objects.</p>
<dl class="simple">
<dt>ontology_file: str</dt><dd><p>JSON ontology file path to load.</p>
</dd>
</dl>
<dl class="simple">
<dt>ontology: FeatureOntology object</dt><dd><p>Desired Feature Ontology pb2 object to be opened. Returns
None if neither fails to load.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.open_ontology_pbobject">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">open_ontology_pbobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ontology_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.open_ontology_pbobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Open ontology objects, first attempt to open V2 before trying V1.</p>
<dl class="simple">
<dt>ontology_file: str</dt><dd><p>JSON ontology file path to load.</p>
</dd>
</dl>
<dl class="simple">
<dt>ontology: Ontology object</dt><dd><p>Desired Ontology pb2 object to be opened (either V2 or V1). Returns
None if neither fails to load.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.open_pbobject">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">open_pbobject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pb_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.open_pbobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Load JSON as a protobuf (pb2) object.</p>
<p>Any calls to load protobuf objects from JSON in this repository should be through this function.
Returns <cite>None</cite> if the loading failed.</p>
<dl class="simple">
<dt>path: str</dt><dd><p>Local JSON file path or remote scene dataset JSON URI to load.</p>
</dd>
<dt>pb_class: pb2 object class</dt><dd><p>Protobuf object we want to load into.</p>
</dd>
</dl>
<dl class="simple">
<dt>pb_object: pb2 object</dt><dd><p>Desired pb2 object to be opened.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.open_remote_pb_object">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">open_remote_pb_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_object_uri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pb_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.open_remote_pb_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Load JSON as a protobuf (pb2) object from S3 remote</p>
<dl class="simple">
<dt>s3_object_uri: str</dt><dd><p>Remote scene dataset JSON URI.</p>
</dd>
<dt>pb_class: pb2 object class</dt><dd><p>Protobuf object we want to load into.</p>
</dd>
</dl>
<dl class="simple">
<dt>pb_object: pb2 object</dt><dd><p>Desired pb2 object to be opened.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.protobuf.save_pbobject_as_json">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.protobuf.</span></span><span class="sig-name descname"><span class="pre">save_pbobject_as_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.protobuf.save_pbobject_as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Save protobuf (pb2) object to JSON file with our standard indent, key ordering, and other
settings.</p>
<p>Any calls to save protobuf objects to JSON in this repository should be through this function.</p>
<dl class="simple">
<dt>pb_object: pb2 object</dt><dd><p>Protobuf object we want to save to file</p>
</dd>
<dt>save_path: str</dt><dd><p>If save path is a JSON, serialized object is saved to that path. If save path is directory,
the <cite>pb_object</cite> is saved in &lt;save_path&gt;/&lt;pb_object_sha&gt;.json.</p>
</dd>
</dl>
<dl class="simple">
<dt>save_path: str</dt><dd><p>Returns path to saved pb_object JSON</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.statistics">
<span id="dgp-utils-statistics-module"></span><h2>dgp.utils.statistics module<a class="headerlink" href="#module-dgp.utils.statistics" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.statistics.get_scene_class_statistics">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.statistics.</span></span><span class="sig-name descname"><span class="pre">get_scene_class_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_enum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ontology</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.statistics.get_scene_class_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a DGP scene, return class counts of the annotations in the scene.</p>
<dl class="simple">
<dt>scene: dgp.proto.scene_pb2.Scene</dt><dd><p>Scene Object.</p>
</dd>
<dt>scene_dir: string</dt><dd><p>s3 URL or local path to scene.</p>
</dd>
<dt>annotation_enum: dgp.proto.ontology_pb2.AnnotationType</dt><dd><p>Annotation type enum</p>
</dd>
<dt>ontology: dgp.proto.ontology_pb2.Ontology or None</dt><dd><p>Stats will be computed for this ontology. If None, the ontology will be read from the scene.</p>
</dd>
</dl>
<dl class="simple">
<dt>scene_stats: OrderedDict</dt><dd><dl class="simple">
<dt>class_name: int</dt><dd><p>Counts of annotations for each class.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.statistics.get_scene_statistics">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.statistics.</span></span><span class="sig-name descname"><span class="pre">get_scene_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scene</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.statistics.get_scene_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a DGP scene, return simple statistics (counts) of the scene.</p>
<dl class="simple">
<dt>scene: dgp.proto.scene_pb2.Scene</dt><dd><p>Scene Object.</p>
</dd>
<dt>verbose: bool, default: True</dt><dd><p>Print the stats if True.</p>
</dd>
</dl>
<dl class="simple">
<dt>scene_stats: OrderedDict</dt><dd><dl class="simple">
<dt>num_samples: int</dt><dd><p>Number of samples in the Scene</p>
</dd>
<dt>num_images: int</dt><dd><p>Number of image datums in the Scene.</p>
</dd>
<dt>num_point_clouds: int</dt><dd><p>Number of point_cloud datums in the Scene.</p>
</dd>
<dt>&lt;datum_type&gt;_&lt;annotation_type&gt;: int</dt><dd><p>Number of &lt;datum_type&gt; with associated &lt;annotation_type&gt; annotation files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.testing">
<span id="dgp-utils-testing-module"></span><h2>dgp.utils.testing module<a class="headerlink" href="#module-dgp.utils.testing" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="dgp.utils.testing.SkipTest">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">SkipTest</span></span><a class="headerlink" href="#dgp.utils.testing.SkipTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raise this exception in a test to skip it.</p>
<p>Usually you can use TestCase.skipTest() or one of the skipping decorators
instead of raising this directly.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_allclose">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_allclose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-07</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equal_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_allclose" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two objects are not equal up to desired
tolerance.</p>
<p>The test is equivalent to <code class="docutils literal notranslate"><span class="pre">allclose(actual,</span> <span class="pre">desired,</span> <span class="pre">rtol,</span> <span class="pre">atol)</span></code> (note
that <code class="docutils literal notranslate"><span class="pre">allclose</span></code> has different default values). It compares the difference
between <cite>actual</cite> and <cite>desired</cite> to <code class="docutils literal notranslate"><span class="pre">atol</span> <span class="pre">+</span> <span class="pre">rtol</span> <span class="pre">*</span> <span class="pre">abs(desired)</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.0.</span></p>
</div>
<dl class="simple">
<dt>actual<span class="classifier">array_like</span></dt><dd><p>Array obtained.</p>
</dd>
<dt>desired<span class="classifier">array_like</span></dt><dd><p>Array desired.</p>
</dd>
<dt>rtol<span class="classifier">float, optional</span></dt><dd><p>Relative tolerance.</p>
</dd>
<dt>atol<span class="classifier">float, optional</span></dt><dd><p>Absolute tolerance.</p>
</dd>
<dt>equal_nan<span class="classifier">bool, optional.</span></dt><dd><p>If True, NaNs will compare equal.</p>
</dd>
<dt>err_msg<span class="classifier">str, optional</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired are not equal up to specified precision.</p>
</dd>
</dl>
<p>assert_array_almost_equal_nulp, assert_array_max_ulp</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-5</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_allclose</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_almost_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_almost_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_almost_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two items are not equal up to desired
precision.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to use one of <cite>assert_allclose</cite>,
<cite>assert_array_almost_equal_nulp</cite> or <cite>assert_array_max_ulp</cite>
instead of this function for more consistent floating point
comparisons.</p>
</div>
<p>The test verifies that the elements of <code class="docutils literal notranslate"><span class="pre">actual</span></code> and <code class="docutils literal notranslate"><span class="pre">desired</span></code> satisfy.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">abs(desired-actual)</span> <span class="pre">&lt;</span> <span class="pre">1.5</span> <span class="pre">*</span> <span class="pre">10**(-decimal)</span></code></p>
</div></blockquote>
<p>That is a looser test than originally documented, but agrees with what the
actual implementation in <cite>assert_array_almost_equal</cite> did up to rounding
vagaries. An exception is raised at conflicting values. For ndarrays this
delegates to assert_array_almost_equal</p>
<dl class="simple">
<dt>actual<span class="classifier">array_like</span></dt><dd><p>The object to check.</p>
</dd>
<dt>desired<span class="classifier">array_like</span></dt><dd><p>The expected object.</p>
</dd>
<dt>decimal<span class="classifier">int, optional</span></dt><dd><p>Desired precision, default is 7.</p>
</dd>
<dt>err_msg<span class="classifier">str, optional</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired are not equal up to specified precision.</p>
</dd>
</dl>
<dl class="simple">
<dt>assert_allclose: Compare two array_like objects for equality with desired</dt><dd><p>relative and/or absolute precision.</p>
</dd>
</dl>
<p>assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy.testing</span> <span class="k">as</span> <span class="nn">npt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npt</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span><span class="mf">2.3333333333333</span><span class="p">,</span> <span class="mf">2.33333334</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">npt</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span><span class="mf">2.3333333333333</span><span class="p">,</span> <span class="mf">2.33333334</span><span class="p">,</span> <span class="n">decimal</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not almost equal to 10 decimals</span>
<span class="go"> ACTUAL: 2.3333333333333</span>
<span class="go"> DESIRED: 2.33333334</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">npt</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.3333333333333</span><span class="p">]),</span>
<span class="gp">... </span>                        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33333334</span><span class="p">]),</span> <span class="n">decimal</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not almost equal to 9 decimals</span>

<span class="go">Mismatched elements: 1 / 2 (50%)</span>
<span class="go">Max absolute difference: 6.66669964e-09</span>
<span class="go">Max relative difference: 2.85715698e-09</span>
<span class="go"> x: array([1.         , 2.333333333])</span>
<span class="go"> y: array([1.        , 2.33333334])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_approx_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_approx_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">significant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_approx_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two items are not equal up to significant
digits.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to use one of <cite>assert_allclose</cite>,
<cite>assert_array_almost_equal_nulp</cite> or <cite>assert_array_max_ulp</cite>
instead of this function for more consistent floating point
comparisons.</p>
</div>
<p>Given two numbers, check that they are approximately equal.
Approximately equal is defined as the number of significant digits
that agree.</p>
<dl class="simple">
<dt>actual<span class="classifier">scalar</span></dt><dd><p>The object to check.</p>
</dd>
<dt>desired<span class="classifier">scalar</span></dt><dd><p>The expected object.</p>
</dd>
<dt>significant<span class="classifier">int, optional</span></dt><dd><p>Desired precision, default is 7.</p>
</dd>
<dt>err_msg<span class="classifier">str, optional</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired are not equal up to specified precision.</p>
</dd>
</dl>
<dl class="simple">
<dt>assert_allclose: Compare two array_like objects for equality with desired</dt><dd><p>relative and/or absolute precision.</p>
</dd>
</dl>
<p>assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_approx_equal</span><span class="p">(</span><span class="mf">0.12345677777777e-20</span><span class="p">,</span> <span class="mf">0.1234567e-20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_approx_equal</span><span class="p">(</span><span class="mf">0.12345670e-20</span><span class="p">,</span> <span class="mf">0.12345671e-20</span><span class="p">,</span>
<span class="gp">... </span>                               <span class="n">significant</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_approx_equal</span><span class="p">(</span><span class="mf">0.12345670e-20</span><span class="p">,</span> <span class="mf">0.12345672e-20</span><span class="p">,</span>
<span class="gp">... </span>                               <span class="n">significant</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Items are not equal to 8 significant digits:</span>
<span class="go"> ACTUAL: 1.234567e-21</span>
<span class="go"> DESIRED: 1.2345672e-21</span>
</pre></div>
</div>
<p>the evaluated condition that raises the exception is</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="mf">0.12345670e-20</span><span class="o">/</span><span class="mf">1e-21</span> <span class="o">-</span> <span class="mf">0.12345672e-20</span><span class="o">/</span><span class="mf">1e-21</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="o">**-</span><span class="p">(</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_array_almost_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_array_almost_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_array_almost_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two objects are not equal up to desired
precision.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to use one of <cite>assert_allclose</cite>,
<cite>assert_array_almost_equal_nulp</cite> or <cite>assert_array_max_ulp</cite>
instead of this function for more consistent floating point
comparisons.</p>
</div>
<p>The test verifies identical shapes and that the elements of <code class="docutils literal notranslate"><span class="pre">actual</span></code> and
<code class="docutils literal notranslate"><span class="pre">desired</span></code> satisfy.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">abs(desired-actual)</span> <span class="pre">&lt;</span> <span class="pre">1.5</span> <span class="pre">*</span> <span class="pre">10**(-decimal)</span></code></p>
</div></blockquote>
<p>That is a looser test than originally documented, but agrees with what the
actual implementation did up to rounding vagaries. An exception is raised
at shape mismatch or conflicting values. In contrast to the standard usage
in numpy, NaNs are compared like numbers, no assertion is raised if both
objects have NaNs in the same positions.</p>
<dl class="simple">
<dt>x<span class="classifier">array_like</span></dt><dd><p>The actual object to check.</p>
</dd>
<dt>y<span class="classifier">array_like</span></dt><dd><p>The desired, expected object.</p>
</dd>
<dt>decimal<span class="classifier">int, optional</span></dt><dd><p>Desired precision, default is 6.</p>
</dd>
<dt>err_msg<span class="classifier">str, optional</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired are not equal up to specified precision.</p>
</dd>
</dl>
<dl class="simple">
<dt>assert_allclose: Compare two array_like objects for equality with desired</dt><dd><p>relative and/or absolute precision.</p>
</dd>
</dl>
<p>assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</p>
<p>the first assert does not raise an exception</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_almost_equal</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.333</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                                     <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.333</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_almost_equal</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33333</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                                     <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33339</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="n">decimal</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not almost equal to 5 decimals</span>

<span class="go">Mismatched elements: 1 / 3 (33.3%)</span>
<span class="go">Max absolute difference: 6.e-05</span>
<span class="go">Max relative difference: 2.57136612e-05</span>
<span class="go"> x: array([1.     , 2.33333,     nan])</span>
<span class="go"> y: array([1.     , 2.33339,     nan])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_almost_equal</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33333</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                                     <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33333</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">decimal</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not almost equal to 5 decimals</span>

<span class="go">x and y nan location mismatch:</span>
<span class="go"> x: array([1.     , 2.33333,     nan])</span>
<span class="go"> y: array([1.     , 2.33333, 5.     ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_array_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_array_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_array_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two array_like objects are not equal.</p>
<p>Given two array_like objects, check that the shape is equal and all
elements of these objects are equal (but see the Notes for the special
handling of a scalar). An exception is raised at shape mismatch or
conflicting values. In contrast to the standard usage in numpy, NaNs
are compared like numbers, no assertion is raised if both objects have
NaNs in the same positions.</p>
<p>The usual caution for verifying equality with floating point numbers is
advised.</p>
<dl class="simple">
<dt>x<span class="classifier">array_like</span></dt><dd><p>The actual object to check.</p>
</dd>
<dt>y<span class="classifier">array_like</span></dt><dd><p>The desired, expected object.</p>
</dd>
<dt>err_msg<span class="classifier">str, optional</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired objects are not equal.</p>
</dd>
</dl>
<dl class="simple">
<dt>assert_allclose: Compare two array_like objects for equality with desired</dt><dd><p>relative and/or absolute precision.</p>
</dd>
</dl>
<p>assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</p>
<p>When one of <cite>x</cite> and <cite>y</cite> is a scalar and the other is array_like, the
function checks that each element of the array_like object is equal to
the scalar.</p>
<p>The first assert does not raise an exception:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_equal</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.33333</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                              <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="mf">2.33333</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
</pre></div>
</div>
<p>Assert fails with numerical imprecision with floats:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_equal</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                              <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not equal</span>

<span class="go">Mismatched elements: 1 / 3 (33.3%)</span>
<span class="go">Max absolute difference: 4.4408921e-16</span>
<span class="go">Max relative difference: 1.41357986e-16</span>
<span class="go"> x: array([1.      , 3.141593,      nan])</span>
<span class="go"> y: array([1.      , 3.141593,      nan])</span>
</pre></div>
</div>
<p>Use <cite>assert_allclose</cite> or one of the nulp (number of floating point values)
functions for these cases instead:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_allclose</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="n">rtol</span><span class="o">=</span><span class="mf">1e-10</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>As mentioned in the Notes section, <cite>assert_array_equal</cite> has special
handling for scalars. Here the test checks that each value in <cite>x</cite> is 3:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_array_less">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_array_less</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_array_less" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an AssertionError if two array_like objects are not ordered by less
than.</p>
<p>Given two array_like objects, check that the shape is equal and all
elements of the first object are strictly smaller than those of the
second object. An exception is raised at shape mismatch or incorrectly
ordered values. Shape mismatch does not raise if an object has zero
dimension. In contrast to the standard usage in numpy, NaNs are
compared, no assertion is raised if both objects have NaNs in the same
positions.</p>
<dl class="simple">
<dt>x<span class="classifier">array_like</span></dt><dd><p>The smaller object to check.</p>
</dd>
<dt>y<span class="classifier">array_like</span></dt><dd><p>The larger object to compare.</p>
</dd>
<dt>err_msg<span class="classifier">string</span></dt><dd><p>The error message to be printed in case of failure.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, the conflicting values are appended to the error message.</p>
</dd>
</dl>
<dl class="simple">
<dt>AssertionError</dt><dd><p>If actual and desired objects are not equal.</p>
</dd>
</dl>
<p>assert_array_equal: tests objects for equality
assert_array_almost_equal: test objects for equality up to precision</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_less</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_less</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not less-ordered</span>

<span class="go">Mismatched elements: 1 / 3 (33.3%)</span>
<span class="go">Max absolute difference: 1.</span>
<span class="go">Max relative difference: 0.5</span>
<span class="go"> x: array([ 1.,  1., nan])</span>
<span class="go"> y: array([ 1.,  2., nan])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_less</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not less-ordered</span>

<span class="go">Mismatched elements: 1 / 2 (50%)</span>
<span class="go">Max absolute difference: 2.</span>
<span class="go">Max relative difference: 0.66666667</span>
<span class="go"> x: array([1., 4.])</span>
<span class="go"> y: array(3)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_array_less</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>:
<span class="go">Arrays are not less-ordered</span>

<span class="go">(shapes (3,), (1,) mismatch)</span>
<span class="go"> x: array([1., 2., 3.])</span>
<span class="go"> y: array([4])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_between">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert <code class="docutils literal notranslate"><span class="pre">value</span></code> is inside the specified range.
Parameters
———-
value : comparable</p>
<blockquote>
<div><p>Value to be asserted.</p>
</div></blockquote>
<dl class="simple">
<dt>low<span class="classifier">comparable</span></dt><dd><p>Range lower bound.</p>
</dd>
<dt>high<span class="classifier">comparable</span></dt><dd><p>Range upper bound.</p>
</dd>
<dt>low_inclusive<span class="classifier">bool, default: True</span></dt><dd><p>Allow case when value == low.</p>
</dd>
<dt>high_inclusive<span class="classifier">bool, default: True</span></dt><dd><p>Allow case when value == high</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Fail if the two objects are unequal as determined by the ‘==’
operator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_false">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_false</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_false" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the expression is false.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_greater">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_greater</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_greater" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like self.assertTrue(a &gt; b), but with a nicer default message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_greater_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_greater_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_greater_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like self.assertTrue(a &gt;= b), but with a nicer default message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_less">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_less</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_less" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like self.assertTrue(a &lt; b), but with a nicer default message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_less_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_less_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_less_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like self.assertTrue(a &lt;= b), but with a nicer default message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_not_equal">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_not_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_not_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Fail if the two objects are equal as determined by the ‘!=’
operator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_raises">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_raises</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected_exception</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_raises" title="Permalink to this definition">¶</a></dt>
<dd><p>Fail unless an exception of class expected_exception is raised
by the callable when invoked with specified positional and
keyword arguments. If a different type of exception is
raised, it will not be caught, and the test case will be
deemed to have suffered an error, exactly as for an
unexpected exception.</p>
<p>If called with the callable and arguments omitted, will return a
context object used like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">SomeException</span><span class="p">):</span>
    <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p>An optional keyword argument ‘msg’ can be provided when assertRaises
is used as a context object.</p>
<p>The context manager keeps a reference to the exception as
the ‘exception’ attribute. This allows you to inspect the
exception after the assertion:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">SomeException</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
<span class="n">the_exception</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">the_exception</span><span class="o">.</span><span class="n">error_code</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.testing.assert_true">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.testing.</span></span><span class="sig-name descname"><span class="pre">assert_true</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.testing.assert_true" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the expression is true.</p>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.visualization_engine">
<span id="dgp-utils-visualization-engine-module"></span><h2>dgp.utils.visualization_engine module<a class="headerlink" href="#module-dgp.utils.visualization_engine" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_engine.visualize_dataset_2d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_engine.</span></span><span class="sig-name descname"><span class="pre">visualize_dataset_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_datum_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_num_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_instance_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_video_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_video_fps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust_lightness_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb_resize_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_engine.visualize_dataset_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize 2D annotations of a synchronized DGP dataset (e.g. SynchronizedSceneDataset,
ParallelDomainScene). The output is a video, either rendered on X window or a video file, that visualize
2D bounding boxes and optionally instance segmentation masks.</p>
<dl class="simple">
<dt>dataset: _SynchronizedDataset</dt><dd><p>A multimodel dataset of which <cite>__getitem__</cite> returns a list of <cite>OrderedDict</cite>, one item for each datum.</p>
</dd>
<dt>camera_datum_names: None or List[str], default: None</dt><dd><p>Names of camera_datums. If None, then use all datums whose type is <cite>image</cite> and are available in all scenes.
In the output video, the image visualizations are tiled in row-major order according to the order of this list.</p>
</dd>
<dt>max_num_items: None or int, default: None</dt><dd><p>If not None, then show only up to this number of items. This is useful for debugging a large dataset.</p>
</dd>
<dt>caption_fn: Callable or None</dt><dd><p>A function that take as input a <cite>_SynchronizedDataset</cite> and index, and return a text (str).
The text is put as caption at the top left corner of video.</p>
</dd>
<dt>show_instance_id: bool, default: False</dt><dd><p>Option to show instance id instead of instance class name on annotated images.</p>
</dd>
<dt>output_video_file: None or str, default: None</dt><dd><p>If not None, then write the visualization on a video of this name. It must ends with <cite>.avi</cite>.</p>
</dd>
<dt>output_video_fps: int, default: 30</dt><dd><p>Frame rate of the video.</p>
</dd>
<dt>class_colormap: dict or None, default: None</dt><dd><p>Dict of class name to RGB color tuple. If None, then use class color defined in <cite>dataset</cite>.</p>
</dd>
<dt>adjust_lightness_factor: float, default: 1.0</dt><dd><p>Enhance the brightness of colormap by this factor.</p>
</dd>
<dt>font_scale: float, default: 1</dt><dd><p>Font scale used for all text.</p>
</dd>
<dt>rgb_resize_factor: float, default: 0.5</dt><dd><p>Resize images by this factor before tiling them into a single panel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_engine.visualize_dataset_3d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_engine.</span></span><span class="sig-name descname"><span class="pre">visualize_dataset_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dataset</span></em>, <em class="sig-param"><span class="pre">lidar_datum_names=None</span></em>, <em class="sig-param"><span class="pre">camera_datum_names=None</span></em>, <em class="sig-param"><span class="pre">render_pointcloud_on_images=True</span></em>, <em class="sig-param"><span class="pre">show_instance_id_on_bev=True</span></em>, <em class="sig-param"><span class="pre">max_num_items=None</span></em>, <em class="sig-param"><span class="pre">caption_fn=None</span></em>, <em class="sig-param"><span class="pre">output_video_file=None</span></em>, <em class="sig-param"><span class="pre">output_video_fps=30</span></em>, <em class="sig-param"><span class="pre">class_colormap=None</span></em>, <em class="sig-param"><span class="pre">adjust_lightness_factor=1.0</span></em>, <em class="sig-param"><span class="pre">rgb_resize_factor=0.5</span></em>, <em class="sig-param"><span class="pre">rgb_border_thickness=4</span></em>, <em class="sig-param"><span class="pre">bev_metric_width=100.0</span></em>, <em class="sig-param"><span class="pre">bev_metric_height=100.0</span></em>, <em class="sig-param"><span class="pre">bev_pixels_per_meter=10.0</span></em>, <em class="sig-param"><span class="pre">bev_polar_step_size_meters=10</span></em>, <em class="sig-param"><span class="pre">bev_forward=(1</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_left=(0</span></em>, <em class="sig-param"><span class="pre">1</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_background_clr=(0</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_font_scale=0.5</span></em>, <em class="sig-param"><span class="pre">bev_line_thickness=4</span></em>, <em class="sig-param"><span class="pre">bbox3d_font_scale=1.0</span></em>, <em class="sig-param"><span class="pre">bbox3d_line_thickness=4</span></em>, <em class="sig-param"><span class="pre">pc_rgb_cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">pc_rgb_norm_depth=10</span></em>, <em class="sig-param"><span class="pre">pc_rgb_dilation=3</span></em>, <em class="sig-param"><span class="pre">radar_datum_names=None</span></em>, <em class="sig-param"><span class="pre">render_radar_pointcloud_on_images=True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_engine.visualize_dataset_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize 3D annotations and pointclouds of a synchronized DGP dataset (e.g. SynchronizedSceneDataset,
ParallelDomainScene). The output is a video, either rendered on X window or a video file, that visualize 3D bounding
boxes and pointcloud 1) from a BEV view and 2) projected on cameras.
Parameters
———-
dataset: _SynchronizedDataset</p>
<blockquote>
<div><p>A multimodel dataset of which <cite>__getitem__</cite> returns a list of <cite>OrderedDict</cite>, one item for each datum.</p>
</div></blockquote>
<dl class="simple">
<dt>lidar_datum_names: None or List[str], default: None</dt><dd><p>Names of lidar datums. If None, then use all datums whose type is <cite>point_cloud</cite> and are available in all scenes.</p>
</dd>
<dt>camera_datum_names: None or List[str], default: None</dt><dd><p>Names of camera_datums. If None, then use all datums whose type is <cite>image</cite> and are available in all scenes.
In the output video, the image visualizations are tiled in row-major order according to the order of this list.</p>
</dd>
<dt>render_pointcloud_on_images: bool, default: True</dt><dd><p>Whether or not to render projected pointclouds on images.</p>
</dd>
<dt>show_instance_id_on_bev: bool, default: True</dt><dd><p>If True, then show <cite>instance_id</cite> on a corner of 3D bounding boxes in BEV view.
If False, then show <cite>class_name</cite> instead.</p>
</dd>
<dt>max_num_items: None or int, default: None</dt><dd><p>If not None, then show only up to this number of items. This is useful for debugging a large dataset.</p>
</dd>
<dt>caption_fn: Callable or None</dt><dd><p>A function that take as input a <cite>_SynchronizedDataset</cite> and index, and return a text (str).
The text is put as caption at the top left corner of video.</p>
</dd>
<dt>output_video_file: None or str, default: None</dt><dd><p>If not None, then write the visualization on a video of this name. It must ends with <cite>.avi</cite>.</p>
</dd>
<dt>output_video_fps: int, default: 30</dt><dd><p>Frame rate of the video.</p>
</dd>
<dt>overwrite_output_file: bool, default: False</dt><dd><p>If True, then FFMPEG overwrites existing output file without prompting confirmation.
This is useful when the <cite>output_video_file</cite> is created by <cite>tempfile</cite> with context manager.</p>
</dd>
<dt>class_colormap: dict or None, default: None</dt><dd><p>Dict of class name to RGB color tuple. If None, then use class color defined in <cite>dataset</cite>.</p>
</dd>
<dt>adjust_lightness_factor: float, default: 1.0</dt><dd><p>Enhance the brightness of colormap by this factor.</p>
</dd>
<dt>rgb_resize_factor: float, default: 0.5</dt><dd><p>Resize images by this factor before tiling them into a single panel.</p>
</dd>
<dt>rgb_border_thickness: int, default: 10</dt><dd><p>Put a colored boundary on camera visualization of this thickness before tiling them into single panel.</p>
</dd>
<dt>bev-<a href="#id1"><span class="problematic" id="id2">*</span></a>:</dt><dd><p>See <cite>BEVImage</cite> for these keyword arguments.</p>
</dd>
<dt>bbox3d-<a href="#id3"><span class="problematic" id="id4">*</span></a>:</dt><dd><p>See <cite>geometry.BoundingBox3D</cite> for these keyword arguments.</p>
</dd>
<dt>pc_rgb-<a href="#id5"><span class="problematic" id="id6">*</span></a>:</dt><dd><p>See <cite>render_pointcloud_on_image()</cite> for these keyword arguments.</p>
</dd>
<dt>radar_datum_names: None or List[str], default: None</dt><dd><p>Names of the radar datums</p>
</dd>
<dt>render_radar_pointcloud_on_images: bool, default: True</dt><dd><p>Whether or not to render projected radar pointclouds on images.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_engine.visualize_dataset_sample_2d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_engine.</span></span><span class="sig-name descname"><span class="pre">visualize_dataset_sample_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_datum_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_instance_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust_lightness_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rgb_resize_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_engine.visualize_dataset_sample_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize 2D annotations of a single sample from a synchronized DGP dataset (e.g. SynchronizedSceneDataset,
ParallelDomainScene). The output is a tuple dictionaries of images keyed by camera datum name (bounding box images, semantic segmentation images).</p>
<dl class="simple">
<dt>dataset: _SynchronizedDataset</dt><dd><p>A multimodel dataset of which <cite>__getitem__</cite> returns a list of <cite>OrderedDict</cite>, one item for each datum.</p>
</dd>
<dt>camera_datum_names: None or List[str], default: None</dt><dd><p>Names of camera_datums. If None, then use all datums whose type is <cite>image</cite> and are available in all scenes.
In the output video, the image visualizations are tiled in row-major order according to the order of this list.</p>
</dd>
<dt>max_num_items: None or int, default: None</dt><dd><p>If not None, then show only up to this number of items. This is useful for debugging a large dataset.</p>
</dd>
<dt>show_instance_id: bool, default: False</dt><dd><p>Option to show instance id instead of instance class name on annotated images.</p>
</dd>
<dt>class_colormap: dict or None, default: None</dt><dd><p>Dict of class name to RGB color tuple. If None, then use class color defined in <cite>dataset</cite>.</p>
</dd>
<dt>adjust_lightness_factor: float, default: 1.0</dt><dd><p>Enhance the brightness of colormap by this factor.</p>
</dd>
<dt>rgb_resize_factor: float, default: 0.5</dt><dd><p>Resize images by this factor before tiling them into a single panel.</p>
</dd>
</dl>
<dl class="simple">
<dt>bbox_rgb<span class="classifier">dict of str</span><span class="classifier">np.array</span></dt><dd><p>Dictionary of bounding box annotated images keyed by the camera datum name.</p>
</dd>
<dt>semantic_rgb<span class="classifier">dict of str</span><span class="classifier">np.array</span></dt><dd><p>Dictionary of semantic segmentation images keyed by camera datum name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_engine.visualize_dataset_sample_3d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_engine.</span></span><span class="sig-name descname"><span class="pre">visualize_dataset_sample_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dataset</span></em>, <em class="sig-param"><span class="pre">scene_idx</span></em>, <em class="sig-param"><span class="pre">sample_idx</span></em>, <em class="sig-param"><span class="pre">lidar_datum_names=None</span></em>, <em class="sig-param"><span class="pre">camera_datum_names=None</span></em>, <em class="sig-param"><span class="pre">render_pointcloud_on_images=True</span></em>, <em class="sig-param"><span class="pre">show_instance_id_on_bev=True</span></em>, <em class="sig-param"><span class="pre">class_colormap=None</span></em>, <em class="sig-param"><span class="pre">adjust_lightness_factor=1.0</span></em>, <em class="sig-param"><span class="pre">rgb_resize_factor=0.5</span></em>, <em class="sig-param"><span class="pre">rgb_border_thickness=4</span></em>, <em class="sig-param"><span class="pre">bev_metric_width=100.0</span></em>, <em class="sig-param"><span class="pre">bev_metric_height=100.0</span></em>, <em class="sig-param"><span class="pre">bev_pixels_per_meter=10.0</span></em>, <em class="sig-param"><span class="pre">bev_polar_step_size_meters=10</span></em>, <em class="sig-param"><span class="pre">bev_forward=(1</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_left=(0</span></em>, <em class="sig-param"><span class="pre">1</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_background_clr=(0</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">bev_font_scale=0.5</span></em>, <em class="sig-param"><span class="pre">bev_line_thickness=4</span></em>, <em class="sig-param"><span class="pre">bbox3d_font_scale=1.0</span></em>, <em class="sig-param"><span class="pre">bbox3d_line_thickness=4</span></em>, <em class="sig-param"><span class="pre">pc_rgb_cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">pc_rgb_norm_depth=10</span></em>, <em class="sig-param"><span class="pre">pc_rgb_dilation=3</span></em>, <em class="sig-param"><span class="pre">radar_datum_names=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_engine.visualize_dataset_sample_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize 3D annotations and pointclouds of a single sample of a DGP dataset (e.g. SynchronizedSceneDataset,
ParallelDomainScene). The output is a dictionary of images keyed by camera datum name and ‘bev’ for the BEV image,</p>
<dl class="simple">
<dt>dataset: _SynchronizedDataset</dt><dd><p>A multimodel dataset of which <cite>__getitem__</cite> returns a list of <cite>OrderedDict</cite>, one item for each datum.</p>
</dd>
<dt>scene_idx: int</dt><dd><p>scene index into dataset</p>
</dd>
<dt>sample_idx: int</dt><dd><p>index of sample in scene</p>
</dd>
<dt>lidar_datum_names: None or List[str], default: None</dt><dd><p>Names of lidar datum</p>
</dd>
<dt>camera_datum_names: None or List[str], default: None</dt><dd><p>Names of camera_datums</p>
</dd>
<dt>render_pointcloud_on_images: bool, default: True</dt><dd><p>Whether or not to render projected pointclouds on images.</p>
</dd>
<dt>show_instance_id_on_bev: bool, default: True</dt><dd><p>If True, then show <cite>instance_id</cite> on a corner of 3D bounding boxes in BEV view.
If False, then show <cite>class_name</cite> instead.</p>
</dd>
<dt>class_colormap: dict or None, default: None</dt><dd><p>Dict of class name to RGB color tuple. If None, then use class color defined in <cite>dataset</cite>.</p>
</dd>
<dt>adjust_lightness_factor: float, default: 1.0</dt><dd><p>Enhance the brightness of colormap by this factor.</p>
</dd>
<dt>rgb_resize_factor: float, default: 0.5</dt><dd><p>Resize images by this factor before tiling them into a single panel.</p>
</dd>
<dt>rgb_border_thickness: int, default: 10</dt><dd><p>Put a colored boundary on camera visualization of this thickness before tiling them into single panel.</p>
</dd>
<dt>bev-<a href="#id7"><span class="problematic" id="id8">*</span></a>:</dt><dd><p>See <cite>BEVImage</cite> for these keyword arguments.</p>
</dd>
<dt>bbox3d-<a href="#id9"><span class="problematic" id="id10">*</span></a>:</dt><dd><p>See <cite>geometry.BoundingBox3D</cite> for these keyword arguments.</p>
</dd>
<dt>pc_rgb-<a href="#id11"><span class="problematic" id="id12">*</span></a>:</dt><dd><p>See <cite>render_pointcloud_on_image()</cite> for these keyword arguments.</p>
</dd>
<dt>radar_datum_names: None or List[str], default: None</dt><dd><p>Names of the radar datums</p>
</dd>
</dl>
<dl class="simple">
<dt>results<span class="classifier">dict of str</span><span class="classifier">np.array</span></dt><dd><p>Dictionary of images keyed by their camera datum name or ‘bev’ for the bird’s eye view.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils.visualization_utils">
<span id="dgp-utils-visualization-utils-module"></span><h2>dgp.utils.visualization_utils module<a class="headerlink" href="#module-dgp.utils.visualization_utils" title="Permalink to this headline">¶</a></h2>
<p>Visualization tools for a variety of tasks</p>
<dl class="py class">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">BEVImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixels_per_meter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polar_step_size_meters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forward</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_clr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_offset_w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_offset_h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for bird’s eye view visualization, which generates a canvas of bird’s eye view image,</p>
<dl>
<dt>The class concerns two types of transformations:</dt><dd><dl>
<dt>Extrinsics:</dt><dd><p>A pose of sensor wrt the body frame. The inputs of rendering functions (<cite>point_cloud</cite> and <cite>bboxes3d</cite>)
are in this sensor frame.</p>
</dd>
<dt>BEV rotation:</dt><dd><p>This defines an axis-aligned transformation from the body frame to BEV frame.
For this, it uses conventional definition of orientations in the body frame:</p>
<blockquote>
<div><p>“forward” is a unit vector pointing to forward direction in the body frame.
“left” is a unit vector pointing to left-hand-side in the body frame.</p>
</div></blockquote>
<dl class="simple">
<dt>In BEV frame,</dt><dd><p>“forward” matches with right-hand-side of BEV image(x-axis)
“left” matches with top of BEV image (negative y-axis)</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>The rendering is done by chaining the extrinsics and BEV rotation to transform the inputs to
the BEV camera, and then apply an orthographic transformation.</p>
<dl class="simple">
<dt>metric_width: float, default: 100.</dt><dd><p>Metric extent of the view in width (X)</p>
</dd>
<dt>metric_height: float, default: 100.</dt><dd><p>Metric extent of the view in height (Y)</p>
</dd>
<dt>pixels_per_meter: float, default: 10.</dt><dd><p>Scale that expresses pixels per meter</p>
</dd>
<dt>polar_step_size_meters: int, default: 10</dt><dd><p>Metric steps at which to draw the polar grid</p>
</dd>
<dt>extrinsics: Pose, default: Identity pose</dt><dd><p>The pose of the sensor wrt the body frame (Sensor frame -&gt; (Vehicle) Body frame).
The input of rendering functions (i.e. <cite>point_cloud</cite>, <cite>bboxes3d</cite>) are assumed to be in the sensor frame.</p>
</dd>
<dt>forward, left: tuple[int], defaults: (1., 0., 0), (0., 1., 0.)</dt><dd><p>Length-3 orthonormal vectors that represents “forward” and “left” direction in the body frame.
The default values assumes the most standard body frame; i.e., x: forward, y: left z: up.
These are used to construct a rotation transformation from the body frame to the BEV frame.</p>
</dd>
<dt>background_clr: tuple[int], defaults: (0, 0, 0)</dt><dd><p>Background color in BGR order.</p>
</dd>
<dt>center_offset_w: int, default: 0</dt><dd><p>Offset in pixels to move ego center in BEV.</p>
</dd>
<dt>center_offset_h: int, default: 0</dt><dd><p>Offset in pixels to move ego center in BEV.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.render_bounding_box_3d">
<span class="sig-name descname"><span class="pre">render_bounding_box_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">bboxes3d</span></em>, <em class="sig-param"><span class="pre">extrinsics=wxyz:</span> <span class="pre">+1.000</span> <span class="pre">+0.000i</span> <span class="pre">+0.000j</span> <span class="pre">+0.000k</span></em>, <em class="sig-param"><span class="pre">tvec:</span> <span class="pre">([0.00</span> <span class="pre">0.00</span> <span class="pre">0.00])</span></em>, <em class="sig-param"><span class="pre">colors=((0</span></em>, <em class="sig-param"><span class="pre">255</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">)</span></em>, <em class="sig-param"><span class="pre">side_color_fraction=0.7</span></em>, <em class="sig-param"><span class="pre">rear_color_fraction=0.5</span></em>, <em class="sig-param"><span class="pre">texts=None</span></em>, <em class="sig-param"><span class="pre">line_thickness=2</span></em>, <em class="sig-param"><span class="pre">font_scale=0.5</span></em>, <em class="sig-param"><span class="pre">font_colors=((255</span></em>, <em class="sig-param"><span class="pre">255</span></em>, <em class="sig-param"><span class="pre">255)</span></em>, <em class="sig-param"><span class="pre">)</span></em>, <em class="sig-param"><span class="pre">markers=None</span></em>, <em class="sig-param"><span class="pre">marker_scale=0.5</span></em>, <em class="sig-param"><span class="pre">marker_colors=((255</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.render_bounding_box_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Render bounding box 3d in BEV perspective.</p>
<dl class="simple">
<dt>bboxes3d: List of BoundingBox3D</dt><dd><p>3D annotations in the sensor coordinate frame.</p>
</dd>
<dt>extrinsics: Pose, default: Identity pose</dt><dd><p>The pose of the pointcloud sensor wrt the body frame (Sensor frame -&gt; (Vehicle) Body frame).</p>
</dd>
<dt>colors: List of RGB tuple, default: [GREEN,]</dt><dd><p>Draw boxes using this color.</p>
</dd>
<dt>side_color_fraction: float, default: 0.6</dt><dd><p>A fraction in brightness of side edge colors of bounding box wrt the front face.</p>
</dd>
<dt>rear_color_fraction: float, default: 0.3</dt><dd><p>A fraction in brightness of rear face colors of bounding box wrt the front face.</p>
</dd>
<dt>texts: list of str, default: None</dt><dd><p>3D annotation category name.</p>
</dd>
<dt>line_thickness: int, default: 2</dt><dd><p>Thickness of lines.</p>
</dd>
<dt>font_scale: float, default: 0.5</dt><dd><p>Font scale used for text labels.</p>
</dd>
<dt>font_colors: List of RGB tuple, default: [WHITE,]</dt><dd><p>Color used for text labels.</p>
</dd>
<dt>markers: List[int], default: None</dt><dd><p>List of opencv markers to draw in bottom right corner of cuboid. Should be one of: 
cv2.MARKER_CROSS, cv2.MARKER_DIAMOND, cv2.MARKER_SQUARE, cv2.MARKER_STAR, cv2.MARKER_TILTED_CROSS, cv2.MARKER_TRIANGLE_DOWN, cv2.MARKER_TRIANGLE_UP, or None.</p>
</dd>
<dt>marker_scale: float, default: .5</dt><dd><p>Scale factor for markers,</p>
</dd>
<dt>marker_colors: List of RGB Tuple, default: [RED,]</dt><dd><p>Draw markers using this color.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.render_camera_frustrum">
<span class="sig-name descname"><span class="pre">render_camera_frustrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intrinsics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrinsics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(252,</span> <span class="pre">226,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.render_camera_frustrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize the frustrum of camera by drawing two lines connecting the
camera center and top-left / top-right corners of image plane.</p>
<dl class="simple">
<dt>intrinsics: np.ndarray</dt><dd><p>3x3 intrinsics matrix</p>
</dd>
<dt>extrinsics: Pose</dt><dd><p>Pose of camera in body frame.</p>
</dd>
<dt>width: int</dt><dd><p>Width of image.</p>
</dd>
<dt>color: Tuple[int], default: Yellow</dt><dd><p>Color in RGB of line.</p>
</dd>
<dt>line_thickness: int, default: 1</dt><dd><p>Thickness of line.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.render_paths">
<span class="sig-name descname"><span class="pre">render_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">paths</span></em>, <em class="sig-param"><span class="pre">extrinsics=wxyz:</span> <span class="pre">+1.000</span> <span class="pre">+0.000i</span> <span class="pre">+0.000j</span> <span class="pre">+0.000k</span></em>, <em class="sig-param"><span class="pre">tvec:</span> <span class="pre">([0.00</span> <span class="pre">0.00</span> <span class="pre">0.00])</span></em>, <em class="sig-param"><span class="pre">colors=((0</span></em>, <em class="sig-param"><span class="pre">255</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">)</span></em>, <em class="sig-param"><span class="pre">line_thickness=1</span></em>, <em class="sig-param"><span class="pre">tint=1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.render_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Render object paths on bev.</p>
<dl class="simple">
<dt>paths: list[list[Pose]]</dt><dd><p>List of object poses in the coordinate frame of the current timestep.</p>
</dd>
<dt>extrinsics: Pose, default: Identity pose</dt><dd><p>The pose of the pointcloud sensor wrt the body frame (Sensor frame -&gt; (Vehicle) Body frame).</p>
</dd>
<dt>colors: List of RGB tuple, default: [GREEN,]</dt><dd><p>Draw path using this color.</p>
</dd>
<dt>line_thickness: int, default: 1</dt><dd><p>Thickness of lines.</p>
</dd>
<dt>tint: float, default: 1.0</dt><dd><p>Mulitiplicative factor applied to color used to darken lines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.render_point_cloud">
<span class="sig-name descname"><span class="pre">render_point_cloud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">point_cloud</span></em>, <em class="sig-param"><span class="pre">extrinsics=wxyz:</span> <span class="pre">+1.000</span> <span class="pre">+0.000i</span> <span class="pre">+0.000j</span> <span class="pre">+0.000k</span></em>, <em class="sig-param"><span class="pre">tvec:</span> <span class="pre">([0.00</span> <span class="pre">0.00</span> <span class="pre">0.00])</span></em>, <em class="sig-param"><span class="pre">color=(100</span></em>, <em class="sig-param"><span class="pre">100</span></em>, <em class="sig-param"><span class="pre">100)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.render_point_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Render point cloud in BEV perspective.</p>
<dl class="simple">
<dt>point_cloud: numpy array with shape (N, 3)</dt><dd><p>3D cloud points in the sensor coordinate frame.</p>
</dd>
<dt>extrinsics: Pose, default: Identity pose</dt><dd><p>The pose of the pointcloud sensor wrt the body frame (Sensor frame -&gt; (Vehicle) Body frame).</p>
</dd>
<dt>color: Tuple[int]</dt><dd><p>Color in RGB to render the points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.render_radar_point_cloud">
<span class="sig-name descname"><span class="pre">render_radar_point_cloud</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">point_cloud</span></em>, <em class="sig-param"><span class="pre">extrinsics=wxyz:</span> <span class="pre">+1.000</span> <span class="pre">+0.000i</span> <span class="pre">+0.000j</span> <span class="pre">+0.000k</span></em>, <em class="sig-param"><span class="pre">tvec:</span> <span class="pre">([0.00</span> <span class="pre">0.00</span> <span class="pre">0.00])</span></em>, <em class="sig-param"><span class="pre">color=(255</span></em>, <em class="sig-param"><span class="pre">0</span></em>, <em class="sig-param"><span class="pre">0)</span></em>, <em class="sig-param"><span class="pre">velocity=None</span></em>, <em class="sig-param"><span class="pre">velocity_scale=1</span></em>, <em class="sig-param"><span class="pre">velocity_max_pix=0.05</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.render_radar_point_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Render radar point cloud in BEV perspective.</p>
<dl class="simple">
<dt>radar_point_cloud: numpy array with shape (N, 3)</dt><dd><p>point cloud in rectangular coordinates of sensor frame</p>
</dd>
<dt>extrinsics: Pose, default: Identity pose</dt><dd><p>The pose of the pointcloud sensor wrt the body frame (Sensor frame -&gt; (Vehicle) Body frame).</p>
</dd>
<dt>color: Tuple[int]</dt><dd><p>Color in RGB to render the points.</p>
</dd>
<dt>velocity: numpy array with shape (N,3), default None</dt><dd><p>velocity vector of points</p>
</dd>
<dt>velocity_scale: float</dt><dd><p>factor to scale velocity vector by</p>
</dd>
<dt>velocity_max_pix: float</dt><dd><p>Maximum length of velocity vector rendering in percent of image width</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.BEVImage.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.BEVImage.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the canvas to a blank image with guideline circles of various radii.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.make_caption">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">make_caption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.make_caption" title="Permalink to this definition">¶</a></dt>
<dd><p>Make caption that tells scene directory and sample index.</p>
<dl class="simple">
<dt>dataset: BaseDataset</dt><dd><p>BaseDataset. e.g. ParallelDomainScene(Dataset), SynchronizedScene(Dataset)</p>
</dd>
<dt>idx: int</dt><dd><p>Image index</p>
</dd>
<dt>prefix: str</dt><dd><p>Caption prefix</p>
</dd>
</dl>
<dl class="simple">
<dt>caption: str</dt><dd><p>Caption of the image</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.mosaic">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">mosaic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.mosaic" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mosaic from list of images.</p>
<dl class="simple">
<dt>items: list of np.ndarray</dt><dd><p>List of images to mosaic.</p>
</dd>
<dt>scale: float, default=1.0</dt><dd><p>Scale factor applied to images. scale &gt; 1.0 enlarges images.</p>
</dd>
<dt>pad: int, default=3</dt><dd><p>Padding size of the images before mosaic</p>
</dd>
<dt>grid_width: int, default=None</dt><dd><p>Mosaic width or grid width of the mosaic</p>
</dd>
</dl>
<dl class="simple">
<dt>image: np.array of shape (H, W, 3)</dt><dd><p>Image mosaic</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.ontology_to_viz_colormap">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">ontology_to_viz_colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ontology</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">void_class_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.ontology_to_viz_colormap" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs semseg viz-ready colormap from DGP Ontology object</p>
<dl class="simple">
<dt>ontology: dgp.proto.ontology_pb2.Ontology</dt><dd><p>DGP ontology object for which we want to create a viz-friendly colormap look-up</p>
</dd>
<dt>void_class_id: int, default: 255</dt><dd><p>Class ID used to denote VOID or IGNORE in ontology</p>
</dd>
</dl>
<dl class="simple">
<dt>colormap: np.int64 array</dt><dd><p>Shape is (num_classes, 3), where num_classes includes the VOID class
<cite>colormap[i, :]</cite> is the BGR triplet for class ID i, with <cite>colormap[-1, :]</cite> being the color for the VOID class</p>
</dd>
</dl>
<p>Class ID’s are assumed to be contiguous and 0-indexed, with VOID class as the last item in the ontology
(if VOID is not in the ontology, then black color is assigned to it and appended to colormap)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.print_status">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">print_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.print_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a status bar at the bottom of image, with provided text.</p>
<dl class="simple">
<dt>image: np.array of shape (H, W, 3)</dt><dd><p>Image to print status on.</p>
</dd>
<dt>text: str</dt><dd><p>Text to be printed.</p>
</dd>
</dl>
<dl class="simple">
<dt>image: np.array of shape (H, W, 3)</dt><dd><p>Image with status printed</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.render_bbox2d_on_image">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">render_bbox2d_on_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bboxes2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.render_bbox2d_on_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Render list of bounding box2d on image.</p>
<dl class="simple">
<dt>img: np.ndarray</dt><dd><p>Image to render bounding boxes onto.</p>
</dd>
<dt>bboxes2d: np.ndarray (N x 4)</dt><dd><p>Array of 2d bounding box (x, y, w, h).</p>
</dd>
<dt>instance_masks: list</dt><dd><p>List of binary instance masks cropped to (w,h).</p>
</dd>
<dt>colors: list</dt><dd><p>List of color tuples.</p>
</dd>
<dt>texts: list, default: None</dt><dd><p>List of str classes.</p>
</dd>
<dt>line_thickness: int</dt><dd><p>Line thickness value for bounding box edges.</p>
</dd>
</dl>
<dl class="simple">
<dt>img: np.array</dt><dd><p>Image with rendered bounding boxes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.render_pointcloud_on_image">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">render_pointcloud_on_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">img</span></em>, <em class="sig-param"><span class="pre">camera</span></em>, <em class="sig-param"><span class="pre">Xw</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">norm_depth=10</span></em>, <em class="sig-param"><span class="pre">dilation=3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.render_pointcloud_on_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Render pointcloud on image.</p>
<dl class="simple">
<dt>img: np.ndarray</dt><dd><p>Image to render bounding boxes onto.</p>
</dd>
<dt>camera: Camera</dt><dd><p>Camera object with appropriately set extrinsics wrt world.</p>
</dd>
<dt>Xw: np.ndarray (N x 3)</dt><dd><p>3D point cloud (x, y, z) in the world coordinate.</p>
</dd>
<dt>cmap: matplotlib.colors.Colormap</dt><dd><p>Colormap used for visualizing the inverse depth.</p>
</dd>
<dt>norm_depth: float, default: 10</dt><dd><p>Depth value to normalize (inverse) pointcloud depths in color mapping.</p>
</dd>
<dt>dilation: int, default: 3</dt><dd><p>Dilation factor applied on each point.</p>
</dd>
</dl>
<dl class="simple">
<dt>img: np.array</dt><dd><p>Image with rendered point cloud.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.render_radar_pointcloud_on_image">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">render_radar_pointcloud_on_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">img</span></em>, <em class="sig-param"><span class="pre">camera</span></em>, <em class="sig-param"><span class="pre">point_cloud</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">norm_depth=10</span></em>, <em class="sig-param"><span class="pre">velocity=None</span></em>, <em class="sig-param"><span class="pre">velocity_scale=1</span></em>, <em class="sig-param"><span class="pre">velocity_max_pix=0.05</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.render_radar_pointcloud_on_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Render radar pointcloud on image.</p>
<dl class="simple">
<dt>img: np.ndarray</dt><dd><p>Image to render bounding boxes onto.</p>
</dd>
<dt>camera: Camera</dt><dd><p>Camera object with appropriately set extrinsics wrt world.</p>
</dd>
<dt>Xw: np.ndarray (N x 8)</dt><dd><p>point cloud in spherical coordinates of radar sensor frame</p>
</dd>
<dt>cmap: matplotlib.colors.Colormap</dt><dd><p>Colormap used for visualizing the inverse depth.</p>
</dd>
<dt>norm_depth: float, default: 10</dt><dd><p>Depth value to normalize (inverse) pointcloud depths in color mapping.</p>
</dd>
<dt>velocity: numpy array with shape (N,3), default None</dt><dd><p>velocity vector of points</p>
</dd>
<dt>velocity_scale: float</dt><dd><p>factor to scale velocity vector by</p>
</dd>
<dt>velocity_max_pix: float</dt><dd><p>Maximum length of velocity vector rendering in percent of image width</p>
</dd>
</dl>
<dl class="simple">
<dt>img: np.array</dt><dd><p>Image with rendered point cloud.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.visualize_bev">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">visualize_bev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lidar_datums</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_colormap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_instance_id_on_bev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_to_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_datums</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_metric_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_metric_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_pixels_per_meter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_polar_step_size_meters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_forward</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_background_clr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_line_thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_font_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radar_datums</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuboid_caption_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_paths_on_bev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_center_offset_w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bev_center_offset_h</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.visualize_bev" title="Permalink to this definition">¶</a></dt>
<dd><p>Create BEV visualization that shows pointcloud, 3D bounding boxes, and optionally camera frustrums.
Parameters
———-
lidar_datums: List[OrderedDict]</p>
<blockquote>
<div><p>List of lidar datums as a dictionary.</p>
</div></blockquote>
<dl class="simple">
<dt>class_colormap: Dict</dt><dd><p>Mapping from class IDs to RGB colors.</p>
</dd>
<dt>show_instance_id_on_bev: Bool, default: False</dt><dd><p>If True, then show <cite>instance_id</cite> on a corner of 3D bounding boxes in BEV view.
If False, then show <cite>class_name</cite> instead.</p>
</dd>
<dt>id_to_name: OrderedDict, default: None</dt><dd><p>Mapping from class IDs to class names.</p>
</dd>
<dt>camera_datums: List[OrderedDict], default: None</dt><dd><p>List of camera datums as a dictionary.</p>
</dd>
<dt>camera_colors: List[Tuple[int]], default: None</dt><dd><p>List of RGB colors associated with each camera. The colors are used to draw frustrum.</p>
</dd>
<dt>bev_*:</dt><dd><p>See <cite>BEVImage</cite> for these keyword arguments.</p>
</dd>
<dt>radar_datums: List[OrderedDict], default: None</dt><dd><p>List of radar datums to visualize</p>
</dd>
<dt>instance_colormap: Dict</dt><dd><p>Mapping from instance id to RGB colors.</p>
</dd>
<dt>cuboid_caption_fn: Callable, BoundingBox3d -&gt; Tuple[String,Tuple[3]]</dt><dd><p>Function taking a BoundingBox3d object and returning a tuple with the caption string, and the rgb
value for that caption. e.g., ( ‘car’, (255,0,0) )</p>
</dd>
<dt>marker_fn: Callable, BoundingBox3d -&gt; Tuple[int,Tuple[3]]</dt><dd><p>Function taking a BoundingBox3d object and returning a tuple with the caption a marker id, and the rgb
value for that marker. e.g., ( cv2.MARKER_DIAMOND, (255,0,0) ). Marker should be one of
cv2.MARKER_CROSS, cv2.MARKER_DIAMOND, cv2.MARKER_SQUARE, cv2.MARKER_STAR, cv2.MARKER_TILTED_CROSS, cv2.MARKER_TRIANGLE_DOWN, cv2.MARKER_TRIANGLE_UP, or None.</p>
</dd>
<dt>show_paths_on_bev: Bool, default: False</dt><dd><p>If true draw a path for each cuboid. Paths are stored in cuboid attributes under the ‘path’ key, i.e.,
path = cuboid.attributes[‘path’], paths are themselves a list of pose objects transformed to the
correct frame. This method does not handle creating or transforming the paths.</p>
</dd>
<dt>bev_enter_offset_w: int, default: 0</dt><dd><p>Offset in pixels to move ego center in BEV.</p>
</dd>
<dt>bev_center_offset_h: int, default: 0</dt><dd><p>Offset in pixels to move ego center in BEV.</p>
</dd>
</dl>
<dl class="simple">
<dt>np.ndarray</dt><dd><p>BEV visualization as an image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.visualize_bounding_box_2d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">visualize_bounding_box_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounding_box_2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ontology</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.visualize_bounding_box_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>DGP-friendly bounding_box_2d visualization util</p>
<dl class="simple">
<dt>image: np.uint8 array</dt><dd><p>Image to visualize boxes on in BGR format
shape: (H, W, 3)</p>
</dd>
<dt>bounding_box_2d: dgp.proto.annotations_pb2.BoundingBox2DAnnotations</dt><dd><p>Bounding box annotations</p>
</dd>
<dt>ontology: dgp.proto.ontology_pb2.Ontology</dt><dd><p>Ontology with which to visualize (for colors and class names)</p>
</dd>
<dt>debug: bool, default: False</dt><dd><p>If True render image until key-press</p>
</dd>
</dl>
<dl class="simple">
<dt>viz: np.uint8 array</dt><dd><p>BGR visualization with bounding boxes
shape: (H, W, 3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.visualize_cameras">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">visualize_cameras</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">camera_datums</span></em>, <em class="sig-param"><span class="pre">id_to_name</span></em>, <em class="sig-param"><span class="pre">lidar_datums=None</span></em>, <em class="sig-param"><span class="pre">rgb_resize_factor=1.0</span></em>, <em class="sig-param"><span class="pre">bbox3d_font_scale=1.0</span></em>, <em class="sig-param"><span class="pre">bbox3d_line_thickness=4</span></em>, <em class="sig-param"><span class="pre">pc_rgb_cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">pc_rgb_norm_depth=10</span></em>, <em class="sig-param"><span class="pre">pc_rgb_dilation=3</span></em>, <em class="sig-param"><span class="pre">radar_datums=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.visualize_cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>Create camera visualization that shows 3D bounding boxes, and optionally projected pointcloud.
Parameters
———-
camera_datums: List[OrderedDict], default: None</p>
<blockquote>
<div><p>List of camera datums as a dictionary.</p>
</div></blockquote>
<dl class="simple">
<dt>id_to_name: OrderedDict, default: None</dt><dd><p>Mapping from class IDs to class names.</p>
</dd>
<dt>lidar_datums: List[OrderedDict] or None, default: None</dt><dd><p>List of lidar datums as a dictionary. If given, then draw pointcloud contained in all datums.</p>
</dd>
<dt>rgb_resize_factor: float, default: 1.0</dt><dd><p>Resize images by this factor before tiling them into a single panel.</p>
</dd>
<dt>bbox3d_font_scale: float, default: 1.0</dt><dd><p>Font scale used for text labels.</p>
</dd>
<dt>bbox3d_line_thickness: int, default: 4</dt><dd><p>Thickness of lines used for drawing 3D bounding boxes.</p>
</dd>
<dt>pc_rgb_norm_depth: int, default: 10</dt><dd><p>Depth value to normalize (inverse) pointcloud depths in color mapping.</p>
</dd>
<dt>pc_rgb_dilation: int, default: 3</dt><dd><p>Dilation factor applied on each point in pointcloud.</p>
</dd>
<dt>radar_datums: List[OrderedDict], default: None</dt><dd><p>List of radar datums to visualize</p>
</dd>
</dl>
<dl class="simple">
<dt>rgb_viz: List[np.ndarray]</dt><dd><p>List of camera visualization images, one for each camera.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.visualization_utils.visualize_semantic_segmentation_2d">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.visualization_utils.</span></span><span class="sig-name descname"><span class="pre">visualize_semantic_segmentation_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">semantic_segmentation_2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ontology</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">void_class_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">255</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.visualization_utils.visualize_semantic_segmentation_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a visualization of a semseg frame (either ground truth or predictions), provided an ontology</p>
<dl class="simple">
<dt>semantic_segmentation_2d: np.array</dt><dd><p>Per-pixel class ID’s for a single input image, with <cite>void_class_id</cite> being the IGNORE class
shape: (H, W)</p>
</dd>
<dt>ontology: dgp.proto.ontology_pb2.Ontology</dt><dd><p>Ontology under which we want to visualize the semseg frame</p>
</dd>
<dt>void_class_id: int, default: 255</dt><dd><p>ID in <cite>semantic_segmentation_2d</cite> that denotes VOID or IGNORE</p>
</dd>
<dt>image: np.uint8 array, default: None</dt><dd><p>If specified then will blend image into visualization with weight <cite>alpha</cite></p>
</dd>
<dt>alpha: float, default: 0.3</dt><dd><p>If <cite>image</cite> is specified, then will visualize an image/semseg blend with <cite>alpha</cite> weight given to image</p>
</dd>
<dt>debug: bool, default: True</dt><dd><p>If True then visualize frame to display</p>
</dd>
</dl>
<dl class="simple">
<dt>colored_semseg: np.uint8</dt><dd><p>Visualization of <cite>semantic_segmentation_2d</cite> frame, <em>in BGR</em>
shape: (H, W, 3)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-dgp.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-dgp.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="dgp.utils.tqdm">
<span class="sig-prename descclassname"><span class="pre">dgp.utils.</span></span><span class="sig-name descname"><span class="pre">tqdm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dgp.utils.tqdm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dgp.utils.cloud.html" title="dgp.utils.cloud package"
             >next</a> |</li>
        <li class="right" >
          <a href="dgp.scripts.html" title="dgp.scripts package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DGP 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="dgp.html" >dgp package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">dgp.utils package</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2021, Toyota Research Institute.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.2.0.Theme is <a href="http://github.com/vimalkvn/solar-theme">Solar</a>
    </div>
  </body>
</html>